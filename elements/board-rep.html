<link rel="import" href="../bower_components/polymer/polymer.html">

<script>
	BoardRep = Polymer({
		is: "board-rep",
    properties: {
      cards: Array
    },
    factoryImpl: function(cards) {
      var size = 3;

      if (!cards) {
        cards = [];
        for (i = 0; i < size; i++) {
          cards[i] = Array(size);
        }
      }

      this.cards = cards;
    },
    getCardCounts: function () {
       return this.cards.map(function (row) {
        return row.filter(function (card) {
          return card;
        }).map(function (card) {
          return {
            color: card.color,
            sum: 1
          };
        });
      }).reduce(function (a,b) {
        return a.concat(b);
      }).reduce(function (previous,current) {
        previous[current.color] = (previous[current.color] || 0) + current.sum
        return previous
      },{});
    }
	});
</script>